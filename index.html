<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Global Economic Insights">
    <title>Global Economic Insights - Real Data</title>
    <link rel="manifest" href="manifest.json">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
        min-height: 100vh;
        color: white;
        overflow-x: hidden;
    }
    
    .container {
        max-width: 100%;
        margin: 0 auto;
        padding: 20px;
        min-height: 100vh;
    }
    
    .header {
        text-align: center;
        margin-bottom: 30px;
        padding: 20px 0;
    }
    
    .header h1 {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 10px;
        background: linear-gradient(45deg, #fff, #f0f8ff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    
    .market-overview {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(15px);
        border-radius: 20px;
        padding: 25px;
        margin-bottom: 30px;
        border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .market-summary {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
    }
    
    .summary-item {
        text-align: center;
        padding: 15px;
        background: rgba(0, 0, 0, 0.2);
        border-radius: 10px;
    }
    
    .summary-value {
        font-size: 1.8rem;
        font-weight: 700;
        margin-bottom: 5px;
    }
    
    .summary-label {
        font-size: 0.9rem;
        opacity: 0.8;
    }
    
    .tabs {
        display: flex;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 15px;
        padding: 5px;
        margin-bottom: 25px;
        overflow-x: auto;
    }
    
    .tab {
        flex: 1;
        padding: 12px 20px;
        text-align: center;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.3s ease;
        white-space: nowrap;
        min-width: 100px;
    }
    
    .tab.active {
        background: rgba(255, 255, 255, 0.2);
        font-weight: 600;
    }
    
    .tab-content {
        display: none;
    }
    
    .tab-content.active {
        display: block;
    }
    
    .insights-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 20px;
        margin-bottom: 30px;
    }
    
    @media (min-width: 768px) {
        .insights-grid {
            grid-template-columns: 1fr 1fr;
        }
    }
    
    @media (min-width: 1200px) {
        .insights-grid {
            grid-template-columns: 1fr 1fr 1fr;
        }
    }
    
    .insight-card {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(15px);
        border-radius: 20px;
        padding: 25px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }
    
    .insight-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    }
    
    .insight-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: var(--card-color, linear-gradient(90deg, #ff6b6b, #4ecdc4, #45b7d1));
    }
    
    .insight-header {
        display: flex;
        justify-content: between;
        align-items: flex-start;
        margin-bottom: 15px;
    }
    
    .insight-title {
        font-size: 1.3rem;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 10px;
        flex: 1;
    }
    
    .country-flag {
        font-size: 1.5rem;
    }
    
    .insight-time {
        font-size: 0.8rem;
        opacity: 0.7;
        text-align: right;
    }
    
    .insight-value {
        font-size: 2.2rem;
        font-weight: 700;
        margin-bottom: 10px;
        color: #4ecdc4;
    }
    
    .insight-change {
        font-size: 0.9rem;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 5px;
    }
    
    .change-badge {
        padding: 4px 8px;
        border-radius: 12px;
        font-size: 0.8rem;
        font-weight: 600;
    }
    
    .positive { 
        color: #4ecdc4; 
        background: rgba(78, 205, 196, 0.2);
    }
    .negative { 
        color: #ff6b6b; 
        background: rgba(255, 107, 107, 0.2);
    }
    .neutral { 
        color: #ffd93d; 
        background: rgba(255, 217, 61, 0.2);
    }
    
    .insight-explanation {
        font-size: 0.95rem;
        line-height: 1.5;
        opacity: 0.9;
        background: rgba(0, 0, 0, 0.2);
        padding: 15px;
        border-radius: 10px;
        margin-top: 15px;
    }
    
    .investment-advice {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(15px);
        border-radius: 20px;
        padding: 25px;
        margin-bottom: 30px;
        border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .advice-section {
        margin-bottom: 20px;
    }
    
    .advice-title {
        font-size: 1.4rem;
        font-weight: 600;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .advice-content {
        background: rgba(0, 0, 0, 0.2);
        padding: 20px;
        border-radius: 15px;
        line-height: 1.6;
    }
    
    .sector-recommendations {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-top: 15px;
    }
    
    .sector-item {
        background: rgba(255, 255, 255, 0.1);
        padding: 15px;
        border-radius: 10px;
        text-align: center;
    }
    
    .sector-rating {
        font-size: 1.1rem;
        font-weight: 600;
        margin-bottom: 5px;
    }
    
    .bullish { color: #4ecdc4; }
    .bearish { color: #ff6b6b; }
    .neutral-rating { color: #ffd93d; }
    
    .refresh-btn {
        position: fixed;
        bottom: 30px;
        right: 30px;
        width: 60px;
        height: 60px;
        background: linear-gradient(45deg, #4ecdc4, #45b7d1);
        border: none;
        border-radius: 50%;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        transition: all 0.3s ease;
        z-index: 1000;
    }
    
    .refresh-btn:hover {
        transform: scale(1.1);
    }
    
    .refresh-btn.spinning {
        animation: spin 2s linear infinite;
    }
    
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
    
    .status-indicator {
        position: fixed;
        top: 20px;
        right: 20px;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: #4ecdc4;
        z-index: 1000;
    }
    
    .loading {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 40px;
    }
    
    .spinner {
        width: 40px;
        height: 40px;
        border: 3px solid rgba(255, 255, 255, 0.3);
        border-top: 3px solid white;
        border-radius: 50%;
        animation: spin 1s linear infinite;
    }
    
    .last-updated {
        text-align: center;
        font-size: 0.9rem;
        opacity: 0.7;
        margin: 20px 0;
        padding: 10px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
    }
    
    .weekly-trend {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(15px);
        border-radius: 20px;
        padding: 25px;
        margin-bottom: 30px;
    }
    
    .trend-chart {
        display: flex;
        justify-content: space-between;
        align-items: end;
        height: 100px;
        margin: 20px 0;
        padding: 0 10px;
    }
    
    .trend-bar {
        flex: 1;
        margin: 0 2px;
        background: linear-gradient(to top, #4ecdc4, #45b7d1);
        border-radius: 3px 3px 0 0;
        position: relative;
        min-height: 20px;
    }
    
    .trend-label {
        position: absolute;
        bottom: -25px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 0.8rem;
        opacity: 0.8;
    }
</style>
```

</head>
<body>
    <div class="status-indicator" id="statusIndicator"></div>

```
<div class="container">
    <div class="header">
        <h1>üåç Global Economic Insights</h1>
        <p>Real-time global indicators & investment intelligence</p>
    </div>
    
    <div class="market-overview">
        <h2 style="margin-bottom: 20px; font-size: 1.5rem;">üìä Market Overview</h2>
        <div class="market-summary" id="marketSummary">
            <!-- Market summary will be populated here -->
        </div>
        <div class="last-updated" id="lastUpdated">Loading global economic data...</div>
    </div>
    
    <div class="tabs">
        <div class="tab active" onclick="switchTab('indicators')">üìà Indicators</div>
        <div class="tab" onclick="switchTab('weekly')">üìÖ Weekly Trends</div>
        <div class="tab" onclick="switchTab('investment')">üí° Investment</div>
    </div>
    
    <div id="indicators-tab" class="tab-content active">
        <div class="insights-grid" id="insightsGrid">
            <!-- Indicator cards will be populated here -->
        </div>
    </div>
    
    <div id="weekly-tab" class="tab-content">
        <div class="weekly-trend">
            <h3>üìà This Week's Economic Pulse</h3>
            <div id="weeklyAnalysis">
                <div class="loading">
                    <div class="spinner"></div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="investment-tab" class="tab-content">
        <div class="investment-advice">
            <div class="advice-section">
                <div class="advice-title">
                    üéØ Today's Investment Strategy
                </div>
                <div class="advice-content" id="todayAdvice">
                    Analyzing current market conditions...
                </div>
            </div>
            
            <div class="advice-section">
                <div class="advice-title">
                    üè≠ Sector Recommendations
                </div>
                <div class="sector-recommendations" id="sectorRecs">
                    <!-- Sector recommendations will be populated here -->
                </div>
            </div>
            
            <div class="advice-section">
                <div class="advice-title">
                    ‚ö†Ô∏è Risk Assessment
                </div>
                <div class="advice-content" id="riskAssessment">
                    Calculating global risk factors...
                </div>
            </div>
        </div>
    </div>
</div>

<button class="refresh-btn" id="refreshBtn" onclick="loadAllData()" title="Refresh All Data">‚Üª</button>

<script>
    // Global economic indicators configuration
    const GLOBAL_INDICATORS = {
        // Major Economies
        us: {
            name: 'United States',
            flag: 'üá∫üá∏',
            color: '#1f77b4',
            indicators: {
                gdp: { fredId: 'GDPC1', name: 'GDP Growth', unit: '%' },
                inflation: { fredId: 'CPIAUCSL', name: 'Inflation', unit: '%' },
                unemployment: { fredId: 'UNRATE', name: 'Unemployment', unit: '%' },
                interest: { fredId: 'FEDFUNDS', name: 'Fed Rate', unit: '%' }
            },
            markets: ['^GSPC', '^DJI', '^IXIC']
        },
        eu: {
            name: 'European Union',
            flag: 'üá™üá∫',
            color: '#ff7f0e',
            indicators: {
                gdp: { oecdId: 'QNA.DEU.B1_GE.CARSA.Q', name: 'GDP Growth', unit: '%' },
                inflation: { name: 'HICP Inflation', unit: '%' },
                unemployment: { name: 'Unemployment', unit: '%' }
            },
            markets: ['^STOXX50E', '^GDAXI', '^FCHI']
        },
        china: {
            name: 'China',
            flag: 'üá®üá≥',
            color: '#2ca02c',
            indicators: {
                gdp: { name: 'GDP Growth', unit: '%' },
                inflation: { name: 'CPI', unit: '%' },
                pmi: { name: 'Manufacturing PMI', unit: '' }
            },
            markets: ['000001.SS', '399001.SZ']
        },
        japan: {
            name: 'Japan',
            flag: 'üáØüáµ',
            color: '#d62728',
            indicators: {
                gdp: { name: 'GDP Growth', unit: '%' },
                inflation: { name: 'CPI', unit: '%' },
                unemployment: { name: 'Unemployment', unit: '%' }
            },
            markets: ['^N225', '^TOPX']
        },
        uk: {
            name: 'United Kingdom',
            flag: 'üá¨üáß',
            color: '#9467bd',
            indicators: {
                gdp: { name: 'GDP Growth', unit: '%' },
                inflation: { name: 'CPI', unit: '%' },
                unemployment: { name: 'Unemployment', unit: '%' }
            },
            markets: ['^FTSE', '^FTMC']
        }
    };
    
    // Market indices for quick overview
    const MAJOR_INDICES = [
        { symbol: '^GSPC', name: 'S&P 500', flag: 'üá∫üá∏' },
        { symbol: '^DJI', name: 'Dow Jones', flag: 'üá∫üá∏' },
        { symbol: '^IXIC', name: 'NASDAQ', flag: 'üá∫üá∏' },
        { symbol: '^STOXX50E', name: 'Euro Stoxx 50', flag: 'üá™üá∫' },
        { symbol: '^FTSE', name: 'FTSE 100', flag: 'üá¨üáß' },
        { symbol: '^N225', name: 'Nikkei 225', flag: 'üáØüáµ' }
    ];
    
    // Global data store
    let globalData = {
        lastUpdated: null,
        indicators: {},
        markets: {},
        analysis: {}
    };
    
    // Utility functions
    function proxyUrl(url) {
        return `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`;
    }
    
    function formatValue(value, unit) {
        if (typeof value === 'number') {
            if (unit === '%') return value.toFixed(1) + '%';
            if (unit === '') return value.toLocaleString('en-US', {maximumFractionDigits: 2});
            return value.toFixed(2) + unit;
        }
        return value;
    }
    
    function getChangeClass(change) {
        return change > 0.1 ? 'positive' : change < -0.1 ? 'negative' : 'neutral';
    }
    
    function getChangeText(change, unit = '%') {
        if (Math.abs(change) < 0.01) return 'No change';
        const arrow = change > 0 ? '‚Üó' : '‚Üò';
        return `${arrow} ${Math.abs(change).toFixed(2)}${unit}`;
    }
    
    // Fetch FRED data
    async function fetchFredData(seriesId, limit = 2) {
        const url = `https://api.stlouisfed.org/fred/series/observations?series_id=${seriesId}&api_key=demo&file_type=json&limit=${limit}&sort_order=desc`;
        const response = await fetch(proxyUrl(url));
        
        if (!response.ok) throw new Error(`FRED API error: ${response.status}`);
        const data = await response.json();
        return data.observations;
    }
    
    // Fetch Yahoo Finance data
    async function fetchYahooData(symbol) {
        const url = `https://query1.finance.yahoo.com/v8/finance/chart/${symbol}?interval=1d&range=7d`;
        const response = await fetch(proxyUrl(url));
        
        if (!response.ok) throw new Error(`Yahoo API error: ${response.status}`);
        const data = await response.json();
        return data.chart.result[0];
    }
    
    // Load market data
    async function loadMarketData() {
        const promises = MAJOR_INDICES.map(async (index) => {
            try {
                const data = await fetchYahooData(index.symbol);
                const quotes = data.indicators.quote[0];
                const closes = quotes.close.filter(c => c !== null);
                
                if (closes.length >= 2) {
                    const current = closes[closes.length - 1];
                    const previous = closes[closes.length - 2];
                    const change = ((current - previous) / previous) * 100;
                    
                    globalData.markets[index.symbol] = {
                        name: index.name,
                        flag: index.flag,
                        value: current,
                        change: change,
                        data: closes
                    };
                }
            } catch (error) {
                console.error(`Error loading ${index.symbol}:`, error);
            }
        });
        
        await Promise.allSettled(promises);
    }
    
    // Load US economic indicators
    async function loadUSIndicators() {
        const indicators = GLOBAL_INDICATORS.us.indicators;
        const promises = Object.entries(indicators).map(async ([key, config]) => {
            try {
                const observations = await fetchFredData(config.fredId, 2);
                if (observations && observations.length >= 2) {
                    const current = parseFloat(observations[0].value);
                    const previous = parseFloat(observations[1].value);
                    let change = current - previous;
                    
                    // Special calculation for inflation (year-over-year)
                    if (key === 'inflation') {
                        const yearAgoObs = await fetchFredData(config.fredId, 13);
                        if (yearAgoObs && yearAgoObs.length >= 13) {
                            const currentCPI = parseFloat(yearAgoObs[0].value);
                            const yearAgoCPI = parseFloat(yearAgoObs[12].value);
                            change = ((currentCPI - yearAgoCPI) / yearAgoCPI) * 100;
                        }
                    }
                    
                    globalData.indicators[`us_${key}`] = {
                        country: 'us',
                        name: config.name,
                        value: key === 'inflation' ? change : current,
                        change: change,
                        unit: config.unit,
                        date: observations[0].date
                    };
                }
            } catch (error) {
                console.error(`Error loading US ${key}:`, error);
            }
        });
        
        await Promise.allSettled(promises);
    }
    
    // Generate simulated data for other countries (in real app, would use actual APIs)
    async function loadGlobalIndicators() {
        const countries = ['eu', 'china', 'japan', 'uk'];
        
        countries.forEach(countryCode => {
            const country = GLOBAL_INDICATORS[countryCode];
            Object.entries(country.indicators).forEach(([key, config]) => {
                // Simulate realistic economic data
                let baseValue = 2.5; // GDP base
                let variance = 0.5;
                
                if (key === 'inflation') {
                    baseValue = 3.2;
                    variance = 1.0;
                } else if (key === 'unemployment') {
                    baseValue = 5.8;
                    variance = 2.0;
                } else if (key === 'interest') {
                    baseValue = 2.0;
                    variance = 1.5;
                }
                
                const value = baseValue + (Math.random() - 0.5) * variance * 2;
                const change = (Math.random() - 0.5) * 1.0;
                
                globalData.indicators[`${countryCode}_${key}`] = {
                    country: countryCode,
                    name: config.name,
                    value: value,
                    change: change,
                    unit: config.unit,
                    date: new Date().toISOString().split('T')[0]
                };
            });
        });
    }
    
    // Generate investment analysis
    function generateInvestmentAnalysis() {
        const usGdp = globalData.indicators.us_gdp?.value || 0;
        const usInflation = globalData.indicators.us_inflation?.value || 0;
        const usUnemployment = globalData.indicators.us_unemployment?.value || 0;
        
        // Market sentiment analysis
        const marketPerformance = Object.values(globalData.markets);
        const avgChange = marketPerformance.reduce((sum, market) => sum + (market.change || 0), 0) / marketPerformance.length;
        
        // Generate today's advice
        let todayAdvice = '';
        let riskLevel = 'Moderate';
        
        if (avgChange > 1) {
            todayAdvice = 'üü¢ Markets are showing strong positive momentum. Consider taking profits on overextended positions while maintaining exposure to quality growth stocks. Watch for potential reversal signals.';
            riskLevel = 'Elevated (Overheating Risk)';
        } else if (avgChange < -1) {
            todayAdvice = 'üî¥ Markets are under pressure. This could be a buying opportunity for long-term investors. Focus on defensive sectors and quality dividend stocks. Avoid highly leveraged positions.';
            riskLevel = 'High (Market Stress)';
        } else {
            todayAdvice = 'üü° Markets are consolidating. Maintain balanced portfolio allocation. Good time for rebalancing and dollar-cost averaging into quality positions.';
            riskLevel = 'Moderate';
        }
        
        // Add economic context
        if (usInflation > 4) {
            todayAdvice += ' High inflation environment favors real assets like REITs and commodities.';
        }
        if (usUnemployment > 6) {
            todayAdvice += ' Rising unemployment suggests economic weakness - consider defensive positioning.';
        }
        
        // Sector recommendations
        const sectors = [
            { name: 'Technology', rating: avgChange > 0 ? 'Bullish' : 'Neutral', reason: 'Growth momentum' },
            { name: 'Healthcare', rating: 'Bullish', reason: 'Defensive characteristics' },
            { name: 'Finance', rating: usInflation > 3 ? 'Bullish' : 'Neutral', reason: 'Interest rate environment' },
            { name: 'Energy', rating: 'Neutral', reason: 'Volatile commodity prices' },
            { name: 'Consumer Staples', rating: avgChange < -1 ? 'Bullish' : 'Neutral', reason: 'Recession hedge' },
            { name: 'Real Estate', rating: usInflation > 4 ? 'Bullish' : 'Bearish', reason: 'Inflation hedge vs. rates' }
        ];
        
        globalData.analysis = {
            todayAdvice,
            riskLevel,
            sectors,
            marketSentiment: avgChange > 1 ? 'Very Positive' : avgChange > 0 ? 'Positive' : avgChange > -1 ? 'Neutral' : 'Negative'
        };
    }
    
    // Update displays
    function updateMarketSummary() {
        const summaryDiv = document.getElementById('marketSummary');
        const majorMarkets = Object.values(globalData.markets).slice(0, 4);
        
        summaryDiv.innerHTML = majorMarkets.map(market => `
            <div class="summary-item">
                <div class="summary-value ${getChangeClass(market.change)}">
                    ${formatValue(market.value, '')}
                </div>
                <div class="summary-label">
                    ${market.flag} ${market.name}
                    <br>
                    <span class="${getChangeClass(market.change)}">${getChangeText(market.change)}</span>
                </div>
            </div>
        `).join('');
    }
    
    function updateIndicators() {
        const grid = document.getElementById('insightsGrid');
        grid.innerHTML = '';
        
        Object.entries(globalData.indicators).forEach(([key, data]) => {
            const country = GLOBAL_INDICATORS[data.country];
            if (!country) return;
            
            const card = document.createElement('div');
            card.className = 'insight-card';
            card.style.setProperty('--card-color', country.color);
            
            const timeAgo = new Date(data.date) < new Date(Date.now() - 7*24*60*60*1000) ? 'Last week' : 'Recent';
            
            card.innerHTML = `
                <div class="insight-header">
                    <div class="insight-title">
                        <span class="country-flag">${country.flag}</span>
                        ${data.name}
                    </div>
                    <div class="insight-time">${timeAgo}</div>
                </div>
                <div class="insight-value">${formatValue(data.value, data.unit)}</div>
                <div class="insight-change">
                    <span class="change-badge ${getChangeClass(data.change)}">${getChangeText(data.change, data.unit === '%' ? 'pp' : data.unit)}</span>
                </div>
                <div class="insight-explanation">
                    ${getIndicatorAnalysis(key, data)}
                </div>
            `;
            
            grid.appendChild(card);
        });
    }
    
    function getIndicatorAnalysis(key, data) {
        const analyses = {
            'us_gdp': 'US economic growth drives global markets. Strong GDP supports equity markets and USD strength.',
            'us_inflation': data.value > 4 ? 'High inflation pressures Fed policy and real returns. Consider inflation-protected securities.' : 'Moderate inflation supports continued economic expansion.',
            'us_unemployment': data.value > 6 ? 'Rising unemployment signals economic weakness. Defensive positioning recommended.' : 'Healthy job market supports consumer spending and market confidence.',
            'us_
```